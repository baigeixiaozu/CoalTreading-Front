(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-478da530"],{"060c":function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={class:""},u={key:0},i={key:0},c=Object(r["n"])("提交"),a=Object(r["n"])("保存"),l=Object(r["n"])("重置"),s={key:1},d=Object(r["o"])("div",null,"已发布",-1),b={key:2},f=Object(r["o"])("div",null,"上传合同",-1),O=Object(r["n"])("去上传合同"),j={key:3},p=Object(r["o"])("div",null,"上传合同完毕，等待确认",-1),m=Object(r["n"])("去查看合同"),g={key:4},v=Object(r["o"])("div",null,"合同被拒绝",-1),h=Object(r["n"])("去上传合同"),y={key:5},k=Object(r["o"])("div",null,"合同被确认，生成订单",-1),F={key:6},_=Object(r["o"])("div",null,"待交保证金",-1),I={key:1},V={key:0},q=Object(r["n"])("摘牌"),$=Object(r["n"])("返回"),P={key:1},D=Object(r["o"])("div",null,"待交保证金",-1),z=Object(r["n"])("去交保证金"),U={key:2},w=Object(r["o"])("div",null,"确认合同",-1),C={key:3},A=Object(r["o"])("div",null,"摘牌成功",-1),M={key:2},x={key:0},L={key:0},E=Object(r["o"])("div",null,"未被交易用户挂牌",-1),S={key:1},Q=Object(r["o"])("div",null,"待交保证金",-1),Z=Object(r["n"])("去交保证金"),R={key:2},T=Object(r["o"])("div",null,"摘牌成功",-1),B={key:1},G={key:0},J=Object(r["o"])("div",null,"未被交易用户摘牌",-1),N={key:1},Y=Object(r["o"])("div",null,"待交保证金",-1),K=Object(r["n"])("去交保证金"),H={key:2},W=Object(r["o"])("div",null,"摘牌成功",-1),X={key:3},tt=Object(r["n"])("摘牌"),et=Object(r["n"])("返回");function nt(t,e,n,nt,rt,ot){var ut=this,it=Object(r["O"])("el-input"),ct=Object(r["O"])("el-form-item"),at=Object(r["O"])("el-col"),lt=Object(r["O"])("el-row"),st=Object(r["O"])("el-form"),dt=Object(r["O"])("el-button"),bt=Object(r["O"])("router-link");return Object(r["F"])(),Object(r["k"])("div",o,[Object(r["o"])(st,{"label-position":rt.labelPosition,model:rt.salelistForm,"status-icon":"",rules:rt.rules,ref:"salelistForm","label-width":"150px",class:"demo-salelistForm",disabled:t.isFormDisabled},{default:Object(r["db"])((function(){return[Object(r["o"])(lt,null,{default:Object(r["db"])((function(){return[Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{label:"供应量(万吨)",prop:"supplyQuantity"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.supplyQuantity,"onUpdate:modelValue":e[1]||(e[1]=function(t){return rt.salelistForm.supplyQuantity=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{label:"热值(Kcal/kg)>",prop:"calorificValue"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.calorificValue,"onUpdate:modelValue":e[2]||(e[2]=function(t){return rt.salelistForm.calorificValue=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r["o"])(lt,null,{default:Object(r["db"])((function(){return[Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{label:"原煤单价(元/吨)",prop:"unitPrice"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.unitPrice,"onUpdate:modelValue":e[3]||(e[3]=function(t){return rt.salelistForm.unitPrice=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{prop:"transportPrice",label:"运费单价(元/吨)"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.transportPrice,"onUpdate:modelValue":e[4]||(e[4]=function(t){return rt.salelistForm.transportPrice=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r["o"])(lt,null,{default:Object(r["db"])((function(){return[Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{label:"全硫(%)<",prop:"ts"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.ts,"onUpdate:modelValue":e[5]||(e[5]=function(t){return rt.salelistForm.ts=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{prop:"location",label:"产地"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.location,"onUpdate:modelValue":e[6]||(e[6]=function(t){return rt.salelistForm.location=t}),class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r["o"])(lt,null,{default:Object(r["db"])((function(){return[Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{label:"挥发分(%)<",prop:"vc"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.vc,"onUpdate:modelValue":e[7]||(e[7]=function(t){return rt.salelistForm.vc=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{prop:"sendLocal",label:"发站(发货港口)"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.sendLocal,"onUpdate:modelValue":e[8]||(e[8]=function(t){return rt.salelistForm.sendLocal=t}),class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(r["o"])(lt,null,{default:Object(r["db"])((function(){return[Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{prop:"kgjhf",label:"空干基灰分(%)<"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.kgjhf,"onUpdate:modelValue":e[9]||(e[9]=function(t){return rt.salelistForm.kgjhf=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["o"])(at,{span:12},{default:Object(r["db"])((function(){return[Object(r["o"])(ct,{prop:"ms",label:"全水分(%)<"},{default:Object(r["db"])((function(){return[Object(r["o"])(it,{modelValue:rt.salelistForm.ms,"onUpdate:modelValue":e[10]||(e[10]=function(t){return rt.salelistForm.ms=t}),modelModifiers:{number:!0},class:"input-item"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["label-position","model","rules","disabled"]),"USER_SALE"===this.$store.state.role?(Object(r["F"])(),Object(r["k"])("div",u,["0"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",i,[Object(r["o"])(dt,{type:"primary",onClick:e[11]||(e[11]=function(t){return ot.submitForm("buyPubData")})},{default:Object(r["db"])((function(){return[c]})),_:1}),Object(r["o"])(dt,{onClick:t.save},{default:Object(r["db"])((function(){return[a]})),_:1},8,["onClick"]),Object(r["o"])(dt,{onClick:e[12]||(e[12]=function(t){return ot.resetForm("buyPubData")})},{default:Object(r["db"])((function(){return[l]})),_:1})])):"3"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",s,[d])):"8"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",b,[f,Object(r["o"])(bt,{to:"/trade/contract/gp?id="+this.gpInfo.id},{default:Object(r["db"])((function(){return[Object(r["o"])(dt,null,{default:Object(r["db"])((function(){return[O]})),_:1})]})),_:1},8,["to"])])):"9"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",j,[p,Object(r["o"])(bt,{to:"/trade/contract/gp?id="+this.gpInfo.id+(null===this.gpInfo.contractFile?"":"&path="+this.gpInfo.contractFile)},{default:Object(r["db"])((function(){return[Object(r["o"])(dt,null,{default:Object(r["db"])((function(){return[m]})),_:1})]})),_:1},8,["to"])])):"10"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",g,[v,Object(r["o"])(bt,{to:"/trade/contract/gp?id="+this.gpInfo.id},{default:Object(r["db"])((function(){return[Object(r["o"])(dt,null,{default:Object(r["db"])((function(){return[h]})),_:1})]})),_:1},8,["to"])])):"11"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",y,[k])):"15"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",F,[_])):Object(r["l"])("",!0)])):"USER_BUY"===this.$store.state.role?(Object(r["F"])(),Object(r["k"])("div",I,["0"===rt.zpInfo.status?(Object(r["F"])(),Object(r["k"])("div",V,[Object(r["o"])(dt,{type:"primary",onClick:ot.zpAction},{default:Object(r["db"])((function(){return[q]})),_:1},8,["onClick"]),Object(r["o"])(dt,{onClick:e[13]||(e[13]=function(t){return ut.$router.back()})},{default:Object(r["db"])((function(){return[$]})),_:1})])):"1"===rt.zpInfo.status?(Object(r["F"])(),Object(r["k"])("div",P,[D,Object(r["o"])(bt,{to:"/trade/margin?gpid="+this.gpInfo.id},{default:Object(r["db"])((function(){return[Object(r["o"])(dt,null,{default:Object(r["db"])((function(){return[z]})),_:1})]})),_:1},8,["to"])])):"9"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",U,[w])):"2"===rt.zpInfo.status?(Object(r["F"])(),Object(r["k"])("div",C,[A])):Object(r["l"])("",!0)])):"USER_MONEY"===this.$store.state.role?(Object(r["F"])(),Object(r["k"])("div",M,["gp"===rt.mode?(Object(r["F"])(),Object(r["k"])("div",x,["0"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",L,[E])):"15"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",S,[Q,Object(r["o"])(bt,{to:"/trade/margin?gpid="+this.gpInfo.id},{default:Object(r["db"])((function(){return[Object(r["o"])(dt,null,{default:Object(r["db"])((function(){return[Z]})),_:1})]})),_:1},8,["to"])])):"2"===rt.gpInfo.status?(Object(r["F"])(),Object(r["k"])("div",R,[T])):Object(r["l"])("",!0)])):"zp"===rt.mode?(Object(r["F"])(),Object(r["k"])("div",B,["0"===rt.zpInfo.status?(Object(r["F"])(),Object(r["k"])("div",G,[J])):"1"===rt.zpInfo.status?(Object(r["F"])(),Object(r["k"])("div",N,[Y,Object(r["o"])(bt,{to:"/trade/margin?zpid="+this.zpInfo.id},{default:Object(r["db"])((function(){return[Object(r["o"])(dt,null,{default:Object(r["db"])((function(){return[K]})),_:1})]})),_:1},8,["to"])])):"2"===rt.zpInfo.status?(Object(r["F"])(),Object(r["k"])("div",H,[W])):Object(r["l"])("",!0)])):Object(r["l"])("",!0)])):Object(r["l"])("",!0),this.$store.state.isLogin?Object(r["l"])("",!0):(Object(r["F"])(),Object(r["k"])("div",X,[Object(r["o"])(dt,{type:"primary",onClick:ot.zpAction},{default:Object(r["db"])((function(){return[tt]})),_:1},8,["onClick"]),Object(r["o"])(dt,{onClick:e[14]||(e[14]=function(t){return ut.$router.back()})},{default:Object(r["db"])((function(){return[et]})),_:1})]))])}n("99af");var rt=n("8d6b"),ot={data:function(){return{labelPosition:"right",mode:this.$route.params.mode,publish:!1,salelistForm:{supplyQuantity:"",calorificValue:"",unitPrice:"",ts:"",location:"",transportPrice:"",vc:"",sendLocal:"",kgjhf:"",ms:""},rules:{supplyQuantity:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],calorificValue:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],unitPrice:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],ts:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],location:[{required:!0,message:"不能为空",trigger:"blur"}],transportPrice:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],vc:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],sendLocal:[{required:!0,message:"不能为空",trigger:"blur"}],kgjhf:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}],ms:[{type:"number",required:!0,message:"不能为空，且只能为数字",trigger:"blur"}]},gpInfo:{id:null,status:"0"},zpInfo:{id:null,status:"0"}}},mounted:function(){},created:function(){this.init()},methods:{init:function(){var t=this.$route.params.mode,e=this.$route.query;this.gpInfo.id=e.id,this.zpInfo.id=e.zid,"zp"===t?(this.isFormDisabled=!0,e.id?this.loadZPDetail1(e.id):e.zid&&this.loadZPDetail2(e.zid)):e.id&&this.loadGPDetail(e.id)},Save:function(){var t=this;this.$refs["salelistForm"].validate((function(e){if(e){var n=t.$route.query;n.id?t.editData(n.id,!1):t.publishData(!1)}else t.$message({message:"请检查数据合法性",type:"warning"})}))},submitForm:function(){var t=this,e=this.$route.query;this.$refs["salelistForm"].validate((function(n){if(!n)return t.$message({message:"数据格式有误，请检查！",type:"warning"}),!1;e.id?t.editData(e.id,!0):t.publishData(!0)}))},resetForm:function(){this.$refs["salelistForm"].resetFields()},publishData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(rt["s"])({publish:e,salePubData:this.salelistForm}).then((function(e){console.log(e),t.$message({message:"提交成功",type:"success"}),t.$router.push("".concat(t.$route.path,"?id=").concat(e.data.reqId))})).catch((function(e){console.log(e),e.error&&t.$message({message:e.error,type:"error"})}))},editData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(rt["r"])({id:t,publish:n,salePubData:this.salelistForm}).then((function(t){e.$message({message:"提交成功",type:"success"})})).catch((function(t){console.log(t),t.error&&e.$message({message:t.error,type:"error"})}))},loadGPDetail:function(t){var e=this;Object(rt["m"])(t).then((function(t){e.salelistForm=t.data.detail,e.gpInfo.id=t.data.id,e.gpInfo.status=t.data.status,e.isFormDisabled="1"!==t.data.status&&"7"!==t.data.status})).catch((function(t){console.log(t),t.error&&(e.$message({message:t.error,type:"error"}),e.$router.back())}))},zpAction:function(){this.doDelist(this.gpInfo.id)},loadZPDetail1:function(t){var e=this;this.$store.state.isLogin?Object(rt["k"])(this.gpInfo.id).then((function(t){e.salelistForm=t.data.reqInfo.detail;var n=t.data.delistInfo;n&&(e.zpInfo.status=n.status)})):Object(rt["g"])(t).then((function(t){console.log(t),e.salelistForm=t.data.detail}))},loadZPDetail2:function(t){var e=this;Object(rt["j"])(t).then((function(t){console.log(t),e.salelistForm=t.data.reqInfo.detail;var n=t.data.delistInfo;e.zpInfo.status=n.status}))},doDelist:function(t){var e=this;Object(rt["b"])(t).then((function(t){console.log(t),e.$message({message:"摘牌成功",type:"success"})}))}}};n("751e");ot.render=nt;e["default"]=ot},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),u=n("2d00"),i=o("species");t.exports=function(t){return u>=51||!r((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2d14":function(t,e,n){},"65f0":function(t,e,n){var r=n("861d"),o=n("e8b5"),u=n("b622"),i=u("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"751e":function(t,e,n){"use strict";n("2d14")},8418:function(t,e,n){"use strict";var r=n("c04e"),o=n("9bf2"),u=n("5c6c");t.exports=function(t,e,n){var i=r(e);i in t?o.f(t,i,u(0,n)):t[i]=n}},"8d6b":function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"s",(function(){return u})),n.d(e,"r",(function(){return i})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return a})),n.d(e,"o",(function(){return l})),n.d(e,"g",(function(){return s})),n.d(e,"l",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return O})),n.d(e,"e",(function(){return j})),n.d(e,"p",(function(){return p})),n.d(e,"f",(function(){return m})),n.d(e,"q",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return h})),n.d(e,"i",(function(){return y})),n.d(e,"h",(function(){return k}));n("99af");var r=n("a27e"),o=function(){return r["a"].get("/request/getComName")},u=function(t){return r["a"].post("/request/publish",t)},i=function(t){return r["a"].post("/request/edit",t)},c=function(t){return r["a"].get("/request/my/detail/"+t)},a=function(t,e){var n={};return t&&(n.page=t),e&&(n.limit=e),r["a"].get("/request/my/list",{params:n})},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={};return t&&(o.page=t),e&&(o.limit=e),n&&(o.userId=n),r["a"].get("/request/public/list",{params:o})},s=function(t){return r["a"].get("/request/public/detail",{params:{id:t}})},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r["a"].get("/delist/my/list",{params:{page:t,limit:e}})},b=function(t){return r["a"].post("/delist/delist",null,{params:{request_id:t}})},f=function(t){return console.log(t),r["a"].get("/delist/detailInfoForUser",{params:{delistId:t}})},O=function(t){return r["a"].get("/delist/detailInfoForUser2",{params:{reqId:t}})},j=function(t){return r["a"].get("/payment/show",{params:t})},p=function(t,e,n){return r["a"].post("/payment/pay/".concat(t,"/").concat(e),{margin:n})},m=function(){return r["a"].get("/fin/info")},g=function(t,e){return r["a"].post("/fin/store",t,{params:{quantity:e}})},v=function(t,e){return r["a"].get("/request/contract/file/"+t,{params:{path:e},responseType:"blob"})},h=function(t,e){return r["a"].post("/request/contract/accept/"+t,{accept:e})},y=function(t,e){return r["a"].get("/request/audit/pending",{params:{page:t,limit:e}})},k=function(t){return r["a"].get("/request/audit/detail/"+t)}},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),u=n("e8b5"),i=n("861d"),c=n("7b0b"),a=n("50c4"),l=n("8418"),s=n("65f0"),d=n("1dde"),b=n("b622"),f=n("2d00"),O=b("isConcatSpreadable"),j=9007199254740991,p="Maximum allowed index exceeded",m=f>=51||!o((function(){var t=[];return t[O]=!1,t.concat()[0]!==t})),g=d("concat"),v=function(t){if(!i(t))return!1;var e=t[O];return void 0!==e?!!e:u(t)},h=!m||!g;r({target:"Array",proto:!0,forced:h},{concat:function(t){var e,n,r,o,u,i=c(this),d=s(i,0),b=0;for(e=-1,r=arguments.length;e<r;e++)if(u=-1===e?i:arguments[e],v(u)){if(o=a(u.length),b+o>j)throw TypeError(p);for(n=0;n<o;n++,b++)n in u&&l(d,b,u[n])}else{if(b>=j)throw TypeError(p);l(d,b++,u)}return d.length=b,d}})},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}}}]);
//# sourceMappingURL=chunk-478da530.73a5fc53.js.map