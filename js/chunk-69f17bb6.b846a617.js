(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69f17bb6"],{"71a8":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o["n"])("登录"),u=Object(o["n"])("注册");function i(e,t,n,i,c,l){var s=Object(o["O"])("el-input"),a=Object(o["O"])("el-form-item"),f=Object(o["O"])("el-button"),d=Object(o["O"])("el-form");return Object(o["F"])(),Object(o["k"])(d,{"label-position":c.labelPosition,model:c.loginForm,"status-icon":"",rules:c.rules,ref:"loginForm","label-width":"100px"},{default:Object(o["db"])((function(){return[Object(o["o"])(a,{label:"用户名",prop:"login"},{default:Object(o["db"])((function(){return[Object(o["o"])(s,{modelValue:c.loginForm.login,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.loginForm.login=e}),modelModifiers:{number:!0},placeholder:"请输入用户名"},null,8,["modelValue"])]})),_:1}),Object(o["o"])(a,{label:"密码",prop:"pass"},{default:Object(o["db"])((function(){return[Object(o["o"])(s,{type:"password",modelValue:c.loginForm.pass,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.loginForm.pass=e}),autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue"])]})),_:1}),Object(o["o"])(a,null,{default:Object(o["db"])((function(){return[Object(o["o"])(f,{type:"primary",onClick:t[3]||(t[3]=function(e){return l.submitForm("loginForm")})},{default:Object(o["db"])((function(){return[r]})),_:1}),Object(o["o"])(f,{onClick:t[4]||(t[4]=function(e){return l.regForm("loginForm")})},{default:Object(o["db"])((function(){return[u]})),_:1})]})),_:1})]})),_:1},8,["label-position","model","rules"])}var c=n("961a"),l={data:function(){return{labelPosition:"right",loginForm:{pass:"",login:""},rules:{login:[{required:!0,message:"用户名不能为空",trigger:"blur"}],pass:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message({message:"输入不正确, 请填写用户名密码",type:"warning"}),!1;t.postData()}))},regForm:function(e){localStorage.removeItem("token"),this.$router.push({name:"userReg"})},postData:function(){var e=this;Object(c["l"])(this.loginForm.login,this.loginForm.pass).then((function(t){var n=t;200==n.code&&(e.$store.commit("set_token",n.data.access_token),e.$store.commit("set_role",n.data.role[0]),e.$store.commit("set_isLogin",!0),e.$message({message:"登录成功",type:"success",duration:1e3}),!1===n.data.complete?e.$router.push({path:"/user/complete"}):e.$route.query.redirect?e.$router.push(e.$route.query.redirect):(console.log("跳转至个人信息页"),e.$router.push({path:"/user/info"})))})).catch((function(e){console.log(e)}))}}};l.render=i;t["default"]=l},"961a":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return b}));var o=n("a27e"),r=function(e){return o["a"].get("/user/getRoleList/"+e)},u=function(e,t){return o["a"].post("/user/login",{login:e,pass:t})},i=function(e){return o["a"].post("/user/register",e)},c=function(e){return o["a"].post("/user/complete",e)},l=function(){return o["a"].get("/user/info")},s=function(){return o["a"].get("/user/fullInfo")},a=function(e){return o["a"].post("/user/new",e)},f=function(e){return o["a"].get("/info/"+e)},d=function(e,t){return console.log(e,t),o["a"].get("/info/list",{params:{current:e,size:t}})},m=function(e,t){return o["a"].get("/servlet/pic",{id:e,file:t})},p=function(e){return o["a"].post("/info/verify/"+e)},g=function(e){return o["a"].post("/info/reject/"+e)},b=function(e,t){return o["a"].get("/info/"+e+"/"+t)}}}]);
//# sourceMappingURL=chunk-69f17bb6.b846a617.js.map