{"version":3,"sources":["webpack:///./src/views/news/edit.vue","webpack:///./src/views/news/edit.vue?d366","webpack:///./src/views/news/api.js"],"names":["ref","model","form","label-width","label","title","placeholder","type","content","rows","save","onSubmit","clear","data","id","created","q","this","$route","query","loadNewsDetail","methods","postarticle","way","article","console","log","then","res","catch","err","error","$message","message","$router","back","render","getNewsList","page","limit","request","get","params","current","size","searchtitle","submit","post","getauditList","getnotpass","getpass"],"mappings":"0JAc+B,M,iBACmB,M,iBACH,M,4KAf7C,eAiBU,GAjBDA,IAAI,OAAQC,MAAO,EAAAC,KAAMC,cAAY,Q,0BAC5C,iBAEe,CAFf,eAEe,GAFDC,MAAM,MAAI,C,yBACtB,iBAA8D,CAA9D,eAA8D,G,WAA3C,EAAAF,KAAKG,M,qDAAL,EAAAH,KAAKG,MAAK,IAAEC,YAAY,S,iCAE7C,eAOe,GAPDF,MAAM,QAAM,C,yBACxB,iBAKY,CALZ,eAKY,GAJVG,KAAK,W,WACI,EAAAL,KAAKM,Q,qDAAL,EAAAN,KAAKM,QAAO,IACrBF,YAAY,QACXG,KAAM,I,iCAGX,eAIe,Q,yBAHb,iBAAuC,CAAvC,eAAuC,GAA3B,QAAO,EAAAC,MAAI,C,yBAAE,iBAAE,C,0BAC3B,eAA0D,GAA/CH,KAAK,UAAW,QAAO,EAAAI,U,0BAAU,iBAAE,C,0BAC9C,eAAuD,GAA5CJ,KAAK,UAAW,QAAO,EAAAK,O,0BAAO,iBAAE,C,0EAOlC,GACbC,KADa,WAEX,MAAO,CACLC,GAAI,KACJZ,KAAM,CACJG,MAAO,GACPG,QAAS,MAIfO,QAVa,WAWX,IAAMC,EAAIC,KAAKC,OAAOC,MACnBH,EAAEF,KACHG,KAAKH,GAAKE,EAAEF,GACZG,KAAKG,eAAeJ,EAAEF,MAG1BO,QAAS,CACPC,YADO,SACKpB,EAAMqB,GAAK,WACjBC,EAAUtB,EACduB,QAAQC,IAAIF,GACZ,eAAOA,EAASD,GACbI,MAAK,SAACC,GACLH,QAAQC,IAAIE,MAEbC,OAAM,SAACC,GACNL,QAAQC,IAAII,GACRA,EAAIC,QACN,EAAKC,SAAS,CACZC,QAASH,EAAIC,MACbxB,KAAM,UAER,EAAK2B,QAAQC,YAIrBxB,SAnBO,WAoBLM,KAAKK,YAAYL,KAAKf,KAAM,YAC5Be,KAAKL,SAEPA,MAvBO,WAwBLK,KAAKf,KAAKG,MAAQ,GAClBY,KAAKf,KAAKM,QAAU,IAEtBE,KA3BO,WA4BLO,KAAKK,YAAYL,KAAKf,KAAM,WAE9BkB,eA9BO,SA8BQN,GAAG,WAChB,eAAeA,GAAIa,MAAK,SAAAC,GACtBH,QAAQC,IAAIE,GACZ,EAAK1B,KAAO0B,EAAIf,WCtExB,EAAOuB,OAASA,EAED,gB,kCCLf,8PAEaC,EAAc,SAACC,EAAKC,GAE7B,OADAd,QAAQC,IAAIY,EAAMC,GACXC,OAAQC,IAAI,aAAc,CAC7BC,OAAO,CACHC,QAASL,EACTM,KAAML,MAKLnB,EAAiB,SAACN,GAC3B,OAAO0B,OAAQC,IAAI,gBAAkB3B,IAE5B+B,EAAc,SAACxC,GACxB,OAAOmC,OAAQC,IAAI,cAAgBpC,IAE1ByC,EAAS,SAACtB,EAAQD,GAC3B,OAAOiB,OAAQO,KAAK,SAAWxB,EAAK,CAC/BlB,MAAMmB,EAAQnB,MACdG,QAAQgB,EAAQhB,WAGZwC,EAAe,SAACV,EAAKC,GAE9B,OADAd,QAAQC,IAAIY,EAAMC,GACXC,OAAQC,IAAI,kBAAmB,CAClCC,OAAO,CACHC,QAASL,EACTM,KAAML,MAILU,EAAa,SAACnC,GAEvB,OADAW,QAAQC,IAAIZ,GACL0B,OAAQO,KAAK,sBAAsBjC,IAEjCoC,EAAU,SAACpC,GAEpB,OADAW,QAAQC,IAAIZ,GACL0B,OAAQO,KAAK,oBAAoBjC","file":"js/chunk-3e0e2b37.bd04d934.js","sourcesContent":["<template>\n  <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n    <el-form-item label=\"标题\">\n      <el-input v-model=\"form.title\" placeholder=\"请输入标题\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"文章内容\">\n      <el-input\n        type=\"textarea\"\n        v-model=\"form.content\"\n        placeholder=\"请输入内容\"\n        :rows=\"30\"\n      ></el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button @click=\"save\">保存</el-button>\n      <el-button type=\"primary\" @click=\"onSubmit\">发布</el-button>\n      <el-button type=\"primary\" @click=\"clear\">清除</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport { submit,loadNewsDetail } from \"./api\";\nexport default {\n  data() {\n    return {\n      id: null,\n      form: {\n        title: \"\",\n        content: \"\",\n      },\n    };\n  },\n  created(){\n    const q = this.$route.query;\n    if(q.id){\n      this.id = q.id;\n      this.loadNewsDetail(q.id);\n    }\n  },\n  methods: {\n    postarticle(form, way) {\n      let article = form;\n      console.log(article);\n      submit(article, way)\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n          if (err.error) {\n            this.$message({\n              message: err.error,\n              type: \"error\",\n            });\n            this.$router.back();\n          }\n        });\n    },\n    onSubmit() {\n      this.postarticle(this.form, \"publish/\");\n      this.clear();\n    },\n    clear() {\n      this.form.title = \"\";\n      this.form.content = \"\";\n    },\n    save() {\n      this.postarticle(this.form, \"draft/\");\n    },\n    loadNewsDetail(id){\n      loadNewsDetail(id).then(res=>{\n        console.log(res);\n        this.form = res.data;\n      })\n    }\n  },\n};\n</script>\n","import { render } from \"./edit.vue?vue&type=template&id=164b11cd\"\nimport script from \"./edit.vue?vue&type=script&lang=js\"\nexport * from \"./edit.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import request from '../../utils/axios';\n\nexport const getNewsList = (page,limit)=>{\n    console.log(page, limit);\n    return request.get(\"/news/show\", {\n        params:{\n            current: page,\n            size: limit\n        }\n    })\n}\n\nexport const loadNewsDetail = (id)=>{\n    return request.get(\"/news/detail/\" + id)\n}\nexport const searchtitle = (title)=>{\n    return request.get(\"/news/more/\" + title)\n}\nexport const submit = (article,way)=>{\n    return request.post(\"/news/\" + way ,{\n         title:article.title,\n         content:article.content  \n    })\n}\nexport const getauditList = (page,limit)=>{\n    console.log(page, limit);\n    return request.get(\"/news/showAudit\", {\n        params:{\n            current: page,\n            size: limit,\n        }\n    })\n}\nexport const getnotpass = (id)=>{\n    console.log(id)\n    return request.post(\"/news/audit/reject/\"+id)\n}\nexport const getpass = (id)=>{\n    console.log(id)\n    return request.post(\"/news/audit/pass/\"+id )\n}\n"],"sourceRoot":""}