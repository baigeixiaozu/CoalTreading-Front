{"version":3,"sources":["webpack:///./src/views/user/reg.vue","webpack:///./src/views/user/reg.vue?28bf","webpack:///./src/views/user/api.js"],"names":["class","href","label-position","labelPosition","model","ruleForm","status-icon","rules","ref","label-width","label","prop","login","placeholder","type","pass","autocomplete","checkPass","email","nick","role","name","roleList","item","key","id","value","check","submitForm","resetForm","data","validatePass","rule","callback","Error","$refs","validateField","validatePass2","required","validator","trigger","message","min","max","mounted","then","res","console","log","methods","formName","this","validate","valid","$message","postData","resetFields","$router","push","catch","err","error","render","getRoleList","request","get","userLogin","post","userRegister","userComplete","getUserInfo","getFullUserInfo","genNewUser","getDetail","getRegList","page","limit","params","current","size","downloadPicFile","file","getPass","getNotPass","subAuditOpinion","opinion"],"mappings":"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","file":"js/chunk-36cfdf08.b35c5460.js","sourcesContent":["<template>\n  <!-- 交易用户注册 -->\n  <div class=\"reg1\">\n    <p>用户注册</p>\n    <el-form\n      :label-position=\"labelPosition\"\n      :model=\"ruleForm\"\n      status-icon\n      :rules=\"rules\"\n      ref=\"ruleForm\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"用户名\" prop=\"login\">\n        <el-input\n          v-model.number=\"ruleForm.login\"\n          placeholder=\"请输入用户名\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"pass\">\n        <el-input\n          type=\"password\"\n          v-model=\"ruleForm.pass\"\n          autocomplete=\"off\"\n          placeholder=\"请输入密码\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"checkPass\">\n        <el-input\n          type=\"password\"\n          v-model=\"ruleForm.checkPass\"\n          autocomplete=\"off\"\n          placeholder=\"请确认密码\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item prop=\"email\" label=\"邮箱\">\n        <el-input v-model=\"ruleForm.email\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"nick\" label=\"公司\">\n        <el-input v-model=\"ruleForm.nick\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"身份\" prop=\"role\">\n        <el-select\n          v-model=\"ruleForm.role\"\n          type=\"text\"\n          name=\"role\"\n          placeholder=\"请选择身份\"\n        >\n          <!-- <el-option label=\"供应商\" value=\"7\"></el-option>\n          <el-option label=\"采购商\" value=\"8\"></el-option> -->\n          <el-option\n            v-for=\"item in roleList\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n            >{{ item.name }}</el-option\n          >\n        </el-select>\n      </el-form-item>\n      <p>\n        <el-form-item prop=\"check\">\n          <el-radio-group v-model=\"ruleForm.check\">\n            <el-radio label=\"同意\"\n              ><a href=\"#\"> 使用条款和隐私策略 </a></el-radio\n            >\n          </el-radio-group>\n        </el-form-item>\n      </p>\n      <p class=\"txt\">\n        <a href=\"#/user/login\"><span></span>已有账号登录</a>\n      </p>\n      <!--<a href=\"#\" class=\"off\"><img src=\"img/temp/off.png\"></a>-->\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n        <el-button type=\"text\" @click=\"resetForm('ruleForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getRoleList, userRegister } from \"./api\";\nexport default {\n  name: \"reg\",\n  data() {\n    const validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.ruleForm.checkPass !== \"\") {\n          this.$refs.ruleForm.validateField(\"checkPass\");\n        }\n        callback();\n      }\n    };\n    const validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.ruleForm.pass) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      labelPosition: \"right\",\n      ruleForm: {\n        pass: \"\",\n        //checkPass: '',\n        login: \"\",\n        nick: \"\",\n        //check:'',\n        email: \"\",\n        role: \"\",\n      },\n      rules: {\n        pass: [\n          {\n            required: true,\n            validator: validatePass,\n            trigger: \"blur\",\n          },\n        ],\n        checkPass: [\n          {\n            required: true,\n            validator: validatePass2,\n            trigger: \"blur\",\n          },\n        ],\n        login: [\n          {\n            required: true,\n            message: \"用户名不能为空\",\n            trigger: \"blur\",\n          },\n        ],\n        nick: [\n          {\n            required: true,\n            message: \"公司不能为空\",\n            trigger: \"blur\",\n          },\n        ],\n        role: [\n          {\n            required: true,\n            message: \"身份不能为空\",\n            trigger: \"blur\",\n          },\n        ],\n        check: [\n          {\n            required: true,\n            message: \"请阅读后勾选\",\n            trigger: \"blur\",\n          },\n        ],\n        email: [\n          {\n            required: true,\n            message: \"请输入邮箱地址\",\n            trigger: \"blur\",\n          },\n          {\n            type: \"email\",\n            message: \"请输入正确的邮箱地址\",\n            trigger: [\"blur\", \"change\"],\n          },\n          {\n            min: 2,\n            max: 20,\n            message: \"长度不得超过20 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n      roleList: [],\n    };\n  },\n  mounted() {\n    getRoleList(\"user\").then((res) => {\n      console.log(res);\n      this.roleList = res.data;\n    });\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.postData();\n        } else {\n          this.$message({\n            message: \"资料填写不规范，请检查！\",\n            type: \"warning\",\n          });\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n      //清除存储的token数据\n      //window.sessionStorage.clear()\n    },\n    postData: function () {\n      userRegister({\n        pass: this.ruleForm.pass,\n        //checkPass: '',\n        login: this.ruleForm.login,\n        nick: this.ruleForm.nick,\n        //check:'',\n        email: this.ruleForm.email,\n        role: this.ruleForm.role,\n      })\n        .then((res) => {\n          console.log(res);\n          this.$router.push(\"/user/login\");\n        })\n        .catch((err) => {\n          console.log(err);\n          if (err.error) {\n            this.$message({\n              type: \"error\",\n              message: err.error,\n            });\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n","import { render } from \"./reg.vue?vue&type=template&id=f49dedf2\"\nimport script from \"./reg.vue?vue&type=script&lang=js\"\nexport * from \"./reg.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// 刚刚封装的axios\nimport request from '../../utils/axios';\n\n/***\n *    __/\\\\\\________/\\\\\\_____/\\\\\\\\\\\\\\\\\\\\\\____/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\____/\\\\\\\\\\\\\\\\\\_____        \n *     _\\/\\\\\\_______\\/\\\\\\___/\\\\\\/////////\\\\\\_\\/\\\\\\///////////___/\\\\\\///////\\\\\\___       \n *      _\\/\\\\\\_______\\/\\\\\\__\\//\\\\\\______\\///__\\/\\\\\\_____________\\/\\\\\\_____\\/\\\\\\___      \n *       _\\/\\\\\\_______\\/\\\\\\___\\////\\\\\\_________\\/\\\\\\\\\\\\\\\\\\\\\\_____\\/\\\\\\\\\\\\\\\\\\\\\\/____     \n *        _\\/\\\\\\_______\\/\\\\\\______\\////\\\\\\______\\/\\\\\\///////______\\/\\\\\\//////\\\\\\____    \n *         _\\/\\\\\\_______\\/\\\\\\_________\\////\\\\\\___\\/\\\\\\_____________\\/\\\\\\____\\//\\\\\\___   \n *          _\\//\\\\\\______/\\\\\\___/\\\\\\______\\//\\\\\\__\\/\\\\\\_____________\\/\\\\\\_____\\//\\\\\\__  \n *           __\\///\\\\\\\\\\\\\\\\\\/___\\///\\\\\\\\\\\\\\\\\\\\\\/___\\/\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\_\\/\\\\\\______\\//\\\\\\_ \n *            ____\\/////////_______\\///////////_____\\///////////////__\\///________\\///__\n * \n * 链接：http://patorjk.com/software/taag/#p=testall&c=c&f=Efti%20Wall&t=USER\n * */\nexport const getRoleList = (type)=>{\n    return request.get(\"/user/getRoleList/\" + type)\n}\n\nexport const userLogin = (login, pass)=>{\n    return request.post(\"/user/login\", {\n        login,pass\n    })\n}\n\nexport const userRegister = (data)=>{\n    return request.post(\"/user/register\", data)\n}\n\nexport const userComplete = (data)=>{\n    return request.post(\"/user/complete\", data)\n}\n\nexport const getUserInfo = ()=>{\n    return request.get(\"/user/info\")\n}\n\nexport const getFullUserInfo = ()=>{\n    return request.get(\"/user/fullInfo\")\n}\n\nexport const genNewUser = (data)=>{\n    return request.post(\"/user/new\", data)\n}\nexport const getDetail = (id)=>{\n    return request.get(\"/info/\" + id )\n}\nexport const getRegList = (page,limit)=>{\n    console.log(page, limit);\n    return request.get(\"/info/list\", {\n        params:{\n            current: page,\n            size: limit\n        }\n    })\n}\nexport const downloadPicFile = (id,file)=>{\n    return request.get(\"/servlet/pic\",{\n         id:id,\n         file:file\n    })\n}\nexport const getPass = (id)=>{\n    return request.post(\"/info/verify/\"+id )\n}\nexport const getNotPass = (id)=>{\n    return request.post(\"/info/reject/\"+id )\n}\nexport const subAuditOpinion = (id,opinion)=>{\n    return request.get(\"/info/\"+id+'/' + opinion )\n}\n"],"sourceRoot":""}